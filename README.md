##  Как подключить сервис к google  таблицам

- 1 Войти на сайт Google Cloud Console https://console.cloud.google.com/
- 2 Создать проект
- 3 Разрешить the Google Sheets API
- 4 Создать сервисный аккаунт и скачать JSON файл с ключами
- 5 Расшарить гугл таблицу с  email сервисного аккаунта из JSON

## Создать файл с настройками и секретами settings.json

За образец формата можно взять settings.example.json

## Запуск сервиса 

```
docker compose up -d
```

##  Проверка работоспособности

```
docker compose logs app
```

Пример успешного сообщения:

```
app  | Delivery plan processed successfully
app  | Sheet 1EauTEv7xQvt_yzGIFc04hxUfyLeRjyunt6KspTpl-ac cleared and new data successfully written
```

## Задание

### Задача: создать сервис, выполняющий 2 задачи:

- регулярное получение информации о тарифах wb и сохранение их в БД на каждый день;
- регулярное обновление информации о актуальных тарифах в google-таблицах.

### Входные данные

- СУБД - PostgreSQL.
- Библиотека для работы с СУБД knex.js
- Описание типов - typescript или jsDoc.
- Endpoint: https://common-api.wildberries.ru/api/v1/tariffs/box (Тарифы для коробов )
- Обращение к google-таблицам для выгрузки данных из PostgreSQL должно производится по их идентификатору. Количество таблиц - N.
- Приложение запускается и работает в docker контейнерах.

### Тезисный план решения задачи:

- Настроить Docker и подготовить compose файл.
- Разобрать структуру данных api “Тарифы коробов”, выбрать разумную форму хранения данных в БД.
- Подготовить миграции для базы данных.
- Написать логику для получения данных по API WB
- Ежечасное получение данных по api “Тарифы коробов” .
- Данные о тарифах накапливать в БД для каждого дня.
- Информация, получаемая ежечасно в течение одного дня, должна обновлять уже имеющиеся на этот день данные.
- Создать механизм доставки данных из БД в произвольное количество google-таблиц.
- Данные о тарифах в google таблицах должны регулярно обновляться (тестовые таблицы создать самостоятельно, лист для тарифов - stocks_coefs).
- Данные отсортировать по возрастанию коэффициента.
- Код необходимо разместить на GitHub.
- Репозиторий должен содержать код приложения, compose конфигурацию для docker и readme с исчерпывающей инструкцией для запуска.
- В репозиторий сразу добавить файлы конфигурации в которых будут отсутствовать чувствительные данные.
- Само приложение должно запускаться в контейнерах, для запуска должно быть достаточно выполнить команду docker compose up.
